var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function a(t){t.forEach(e)}function i(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e){t.appendChild(e)}function o(t,e,n){t.insertBefore(e,n||null)}function r(t){t.parentNode.removeChild(t)}function s(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function u(){return p(" ")}function h(){return p("")}function g(t,e,n,a){return t.addEventListener(e,n,a),()=>t.removeEventListener(e,n,a)}function f(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){e=""+e,t.data!==e&&(t.data=e)}function v(t,e,n,a){t.style.setProperty(e,n,a?"important":"")}let y;function _(t){y=t}const x=[],$=[],b=[],w=[],k=Promise.resolve();let q=!1;function z(t){b.push(t)}function C(){const t=new Set;do{for(;x.length;){const t=x.shift();_(t),T(t.$$)}for(;$.length;)$.pop()();for(let e=0;e<b.length;e+=1){const n=b[e];t.has(n)||(n(),t.add(n))}b.length=0}while(x.length);for(;w.length;)w.pop()();q=!1}function T(t){null!==t.fragment&&(t.update(t.dirty),a(t.before_update),t.fragment&&t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(z))}const A=new Set;let O;function D(){O={r:0,c:[],p:O}}function j(){O.r||a(O.c),O=O.p}function E(t,e){t&&t.i&&(A.delete(t),t.i(e))}function N(t,e,n,a){if(t&&t.o){if(A.has(t))return;A.add(t),O.c.push(()=>{A.delete(t),a&&(n&&t.d(1),a())}),t.o(e)}}function S(t){t&&t.c()}function L(t,n,l){const{fragment:c,on_mount:o,on_destroy:r,after_update:s}=t.$$;c&&c.m(n,l),z(()=>{const n=o.map(e).filter(i);r?r.push(...n):a(n),t.$$.on_mount=[]}),s.forEach(z)}function M(t,e){const n=t.$$;null!==n.fragment&&(a(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx={})}function P(t,e){t.$$.dirty||(x.push(t),q||(q=!0,k.then(C)),t.$$.dirty=n()),t.$$.dirty[e]=!0}function X(e,i,l,c,o,r){const s=y;_(e);const d=i.props||{},p=e.$$={fragment:null,ctx:null,props:r,update:t,not_equal:o,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:[]),callbacks:n(),dirty:null};let u=!1;p.ctx=l?l(e,d,(t,n,a=n)=>(p.ctx&&o(p.ctx[t],p.ctx[t]=a)&&(p.bound[t]&&p.bound[t](a),u&&P(e,t)),n)):d,p.update(),u=!0,a(p.before_update),p.fragment=!!c&&c(p.ctx),i.target&&(i.hydrate?p.fragment&&p.fragment.l(function(t){return Array.from(t.childNodes)}(i.target)):p.fragment&&p.fragment.c(),i.intro&&E(e.$$.fragment),L(e,i.target,i.anchor),C()),_(s)}class H{$destroy(){M(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function B(t){let e,n,a,i,l,s;return{c(){e=d("br"),n=u(),a=d("a"),i=p("Show me the data!"),f(a,"alt",l=t.descriptor.name),f(a,"href",s=`/api/data/${t.descriptor.module}/${t.descriptor.name}`)},m(t,l){o(t,e,l),o(t,n,l),o(t,a,l),c(a,i)},p(t,e){t.descriptor&&l!==(l=e.descriptor.name)&&f(a,"alt",l),t.descriptor&&s!==(s=`/api/data/${e.descriptor.module}/${e.descriptor.name}`)&&f(a,"href",s)},d(t){t&&r(e),t&&r(n),t&&r(a)}}}function I(e){let n,a,i,l,s,h,v,y,_,x,$,b,w,k,q,z,C,T,A,O,D,j,E=e.descriptor.descriptorType+"",N=e.descriptor.module+"",S=e.descriptor.parent?e.descriptor.parent+".":"",L=e.descriptor.name+"",M=(e.descriptor.description||"No Description")+"",P=e.descriptor.module+"",X=!e.descriptor.parent&&e.descriptor.type&&B(e);return{c(){n=d("div"),a=d("h2"),i=d("span"),l=p(E),s=u(),h=p(N),v=p(" - "),y=p(S),_=p(L),x=u(),$=d("p"),b=p(M),w=u(),k=d("a"),q=p("Module: "),z=p(P),A=u(),X&&X.c(),O=u(),D=d("div"),f(i,"class","pill svelte-a0oi16"),f(a,"class","svelte-a0oi16"),f($,"class","description svelte-a0oi16"),f(k,"alt",C=e.descriptor.module),f(k,"href",T=`/${e.descriptor.module}/index.html`),f(D,"id",e.id),f(n,"class","descriptor svelte-a0oi16"),j=g(n,"click",e.click_handler)},m(t,e){o(t,n,e),c(n,a),c(a,i),c(i,l),c(a,s),c(a,h),c(a,v),c(a,y),c(a,_),c(n,x),c(n,$),c($,b),c(n,w),c(n,k),c(k,q),c(k,z),c(n,A),X&&X.m(n,null),c(n,O),c(n,D)},p(t,e){t.descriptor&&E!==(E=e.descriptor.descriptorType+"")&&m(l,E),t.descriptor&&N!==(N=e.descriptor.module+"")&&m(h,N),t.descriptor&&S!==(S=e.descriptor.parent?e.descriptor.parent+".":"")&&m(y,S),t.descriptor&&L!==(L=e.descriptor.name+"")&&m(_,L),t.descriptor&&M!==(M=(e.descriptor.description||"No Description")+"")&&m(b,M),t.descriptor&&P!==(P=e.descriptor.module+"")&&m(z,P),t.descriptor&&C!==(C=e.descriptor.module)&&f(k,"alt",C),t.descriptor&&T!==(T=`/${e.descriptor.module}/index.html`)&&f(k,"href",T),!e.descriptor.parent&&e.descriptor.type?X?X.p(t,e):((X=B(e)).c(),X.m(n,O)):X&&(X.d(1),X=null)},i:t,o:t,d(t){t&&r(n),X&&X.d(),j()}}}function J(t,e,n){let{descriptor:a}=e,i=async t=>{let e=`/api/svg?module=${t.module}&name=${t.name}&type=g`,n=await fetch(e),a=await n.text();var i=document.getElementById(l);mermaid.render("inner-"+l,a,(t,e)=>{i.innerHTML=t},i)},l="mermaid-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)+"-"+Date.now();return t.$set=t=>{"descriptor"in t&&n("descriptor",a=t.descriptor)},{descriptor:a,selectNode:i,id:l,click_handler:()=>i(a)}}class Z extends H{constructor(t){super(),X(this,t,J,I,l,{descriptor:0})}}function U(t,e,n){const a=Object.create(t);return a.d=e[n],a}function V(e){let n;return{c(){(n=d("div")).textContent="Your query returned no results."},m(t,e){o(t,n,e)},p:t,i:t,o:t,d(t){t&&r(n)}}}function W(t){let e,n,a=t.data,i=[];for(let e=0;e<a.length;e+=1)i[e]=Y(U(t,a,e));const l=t=>N(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=h()},m(t,a){for(let e=0;e<i.length;e+=1)i[e].m(t,a);o(t,e,a),n=!0},p(t,n){if(t.data){let c;for(a=n.data,c=0;c<a.length;c+=1){const l=U(n,a,c);i[c]?(i[c].p(t,l),E(i[c],1)):(i[c]=Y(l),i[c].c(),E(i[c],1),i[c].m(e.parentNode,e))}for(D(),c=a.length;c<i.length;c+=1)l(c);j()}},i(t){if(!n){for(let t=0;t<a.length;t+=1)E(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)N(i[t]);n=!1},d(t){s(i,t),t&&r(e)}}}function Y(t){let e;const n=new Z({props:{descriptor:t.d}});return{c(){S(n.$$.fragment)},m(t,a){L(n,t,a),e=!0},p(t,e){const a={};t.data&&(a.descriptor=e.d),n.$set(a)},i(t){e||(E(n.$$.fragment,t),e=!0)},o(t){N(n.$$.fragment,t),e=!1},d(t){M(n,t)}}}function F(t){let e,n,a,i,l,s,p,m,v,y,_,x,$,b;const w=[W,V],k=[];function q(t,e){return e.data&&e.data.length>0?0:1}return y=q(0,t),_=k[y]=w[y](t),{c(){(e=d("h1")).textContent="Welcome to ZDragon!",n=u(),(a=d("p")).innerHTML='\n  Visit\n  <a href="https://zdragon.nl">ZDragon.nl</a>\n  to learn more about zdragon!\n',i=u(),l=d("div"),(s=d("h2")).textContent="Search your models:",p=u(),m=d("input"),v=u(),_.c(),x=h(),f(e,"class","title"),f(m,"type","text"),b=g(m,"change",t.change_handler)},m(t,r){o(t,e,r),o(t,n,r),o(t,a,r),o(t,i,r),o(t,l,r),c(l,s),c(l,p),c(l,m),o(t,v,r),k[y].m(t,r),o(t,x,r),$=!0},p(t,e){let n=y;(y=q(0,e))===n?k[y].p(t,e):(D(),N(k[n],1,1,()=>{k[n]=null}),j(),(_=k[y])||(_=k[y]=w[y](e)).c(),E(_,1),_.m(x.parentNode,x))},i(t){$||(E(_),$=!0)},o(t){N(_),$=!1},d(t){t&&r(e),t&&r(n),t&&r(a),t&&r(i),t&&r(l),t&&r(v),k[y].d(t),t&&r(x),b()}}}function G(t,e,n){let a=[];const i=async t=>{try{var e=await fetch(`/api/search/${t||"nothing"}`);n("data",a=await e.json())}catch(t){console.log(t)}};return{data:a,findData:i,change_handler:t=>i(t.target.value)}}class K extends H{constructor(t){super(),X(this,t,G,F,l,{})}}const Q=[];function R(e,n=t){let a;const i=[];function c(t){if(l(e,t)&&(e=t,a)){const t=!Q.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),Q.push(n,e)}if(t){for(let t=0;t<Q.length;t+=2)Q[t][0](Q[t+1]);Q.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(l,o=t){const r=[l,o];return i.push(r),1===i.length&&(a=n(c)||t),l(e),()=>{const t=i.indexOf(r);-1!==t&&i.splice(t,1),0===i.length&&(a(),a=null)}}}}var tt=new class{constructor(){this.route=R("index"),this.params=R([])}navigate(t,...e){this.route.update(e=>t),this.params.update(t=>e||[])}subscribe(t){this.route.subscribe(t)}$params(t){this.params.subscribe(t)}};function et(t,e,n){const a=Object.create(t);return a.d=e[n],a}function nt(t){let e,n,i,l,s,h,v,y,_,x,$,b,w,k,q,z,C,T=t.d.domain+"",A=t.d.name+"",O=t.d.description+"",D=t.d.dataOwner+"";function j(...e){return t.click_handler_1(t,...e)}function E(...e){return t.click_handler_2(t,...e)}return{c(){e=d("div"),n=d("div"),i=p(T),l=u(),s=d("div"),h=p(A),v=u(),y=d("div"),_=p(O),x=u(),$=d("div"),b=p("Owner: "),w=p(D),k=u(),(q=d("span")).textContent="X",z=u(),f(n,"class","item--name svelte-q471s4"),f(s,"class","item--name svelte-q471s4"),f($,"class","item--description__owner svelte-q471s4"),f(y,"class","item--description svelte-q471s4"),f(q,"class","item__delete svelte-q471s4"),f(e,"class","item svelte-q471s4"),C=[g(s,"click",j),g(q,"click",E)]},m(t,a){o(t,e,a),c(e,n),c(n,i),c(e,l),c(e,s),c(s,h),c(e,v),c(e,y),c(y,_),c(y,x),c(y,$),c($,b),c($,w),c(e,k),c(e,q),c(e,z)},p(e,n){t=n,e.data&&T!==(T=t.d.domain+"")&&m(i,T),e.data&&A!==(A=t.d.name+"")&&m(h,A),e.data&&O!==(O=t.d.description+"")&&m(_,O),e.data&&D!==(D=t.d.dataOwner+"")&&m(w,D)},d(t){t&&r(e),a(C)}}}function at(e){let n,i,l,p,h,m,v,y,_,x,$,b,w,k=e.data,q=[];for(let t=0;t<k.length;t+=1)q[t]=nt(et(e,k,t));return{c(){(n=d("h1")).textContent="Search your lexicon!",i=u(),l=d("div"),(p=d("span")).textContent="Create",h=u(),(m=d("h2")).textContent="Search your lexicon:",v=u(),y=d("input"),_=u(),x=d("div"),($=d("div")).innerHTML='<div class="item--name svelte-q471s4">Domain</div> \n    <div class="item--name svelte-q471s4">Name</div> \n    <div class="item--description svelte-q471s4">Description</div>',b=u();for(let t=0;t<q.length;t+=1)q[t].c();f(n,"class","title"),f(p,"class","nav-button"),f(y,"type","text"),f($,"class","item svelte-q471s4"),f(x,"class","items svelte-q471s4"),w=[g(p,"click",e.click_handler),g(y,"keyup",e.keyup_handler),g(y,"change",e.change_handler)]},m(t,e){o(t,n,e),o(t,i,e),o(t,l,e),c(l,p),c(l,h),c(l,m),c(l,v),c(l,y),o(t,_,e),o(t,x,e),c(x,$),c(x,b);for(let t=0;t<q.length;t+=1)q[t].m(x,null)},p(t,e){if(t.deleteItem||t.data||t.navigator){let n;for(k=e.data,n=0;n<k.length;n+=1){const a=et(e,k,n);q[n]?q[n].p(t,a):(q[n]=nt(a),q[n].c(),q[n].m(x,null))}for(;n<q.length;n+=1)q[n].d(1);q.length=k.length}},i:t,o:t,d(t){t&&r(n),t&&r(i),t&&r(l),t&&r(_),t&&r(x),s(q,t),a(w)}}}function it(t,e,n){let a=[],i="",l=async t=>{if(t){i=t;var e=await fetch("/api/lexicon?query="+i),l=await e.json();n("data",a=l||[])}},c=async t=>{await fetch("/api/lexicon",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});l(i)},o=t=>{l(t)};return{data:a,findData:l,deleteItem:c,onkeyup:o,click_handler:()=>{tt.navigate("add-lexicon")},keyup_handler:t=>"Enter"===t.code&&o(t.target.value),change_handler:t=>l(t.target.value),click_handler_1:({d:t})=>tt.navigate("edit-lexicon",t.id),click_handler_2:({d:t})=>c(t)}}class lt extends H{constructor(t){super(),X(this,t,it,at,l,{})}}function ct(t,e,n){const a=Object.create(t);return a.tag=e[n],a}function ot(t,e,n){const a=Object.create(t);return a.application=e[n],a}function rt(t){let e,n,a,i,l,s,h=t.application+"";function v(...e){return t.click_handler(t,...e)}return{c(){e=d("div"),n=p(h),a=u(),(i=d("span")).textContent="X",l=u(),f(i,"class","delete svelte-1qonizy"),s=g(i,"click",v)},m(t,r){o(t,e,r),c(e,n),c(e,a),c(e,i),c(e,l)},p(e,a){t=a,e.data&&h!==(h=t.application+"")&&m(n,h)},d(t){t&&r(e),s()}}}function st(t){let e,n,a,i,l,s,h=t.tag+"";function v(...e){return t.click_handler_1(t,...e)}return{c(){e=d("div"),n=p(h),a=u(),(i=d("span")).textContent="X",l=u(),f(i,"class","delete svelte-1qonizy"),s=g(i,"click",v)},m(t,r){o(t,e,r),c(e,n),c(e,a),c(e,i),c(e,l)},p(e,a){t=a,e.data&&h!==(h=t.tag+"")&&m(n,h)},d(t){t&&r(e),s()}}}function dt(e){let n,i,l,p,h,m,y,_,x,$,b,w,k,q,z,C,T,A,O,D,j,E,N,S,L,M,P,X,H,B,I,J,Z,U,V,W,Y,F,G,K,Q,R,tt=e.data.applications,et=[];for(let t=0;t<tt.length;t+=1)et[t]=rt(ot(e,tt,t));let nt=e.data.tags,at=[];for(let t=0;t<nt.length;t+=1)at[t]=st(ct(e,nt,t));return{c(){(n=d("h1")).textContent="Please describe something",i=u(),l=d("div"),p=d("form"),h=d("div"),m=d("div"),(y=d("label")).textContent="Domain:",_=u(),x=d("input"),$=u(),b=d("div"),(w=d("label")).textContent="Name:",k=u(),q=d("input"),z=u(),C=d("div"),(T=d("label")).textContent="Description:",A=u(),O=d("textarea"),D=u(),j=d("div"),(E=d("label")).textContent="Data owner:",N=u(),S=d("input"),L=u(),M=d("div"),P=d("div"),(X=d("label")).textContent="Applications:",H=u(),B=d("div"),I=d("input"),J=u();for(let t=0;t<et.length;t+=1)et[t].c();Z=u(),U=d("div"),(V=d("label")).textContent="Tags:",W=u(),Y=d("div"),F=d("input"),G=u();for(let t=0;t<at.length;t+=1)at[t].c();K=u(),(Q=d("button")).textContent="Add",f(n,"class","title"),f(y,"class","svelte-1qonizy"),f(x,"class","svelte-1qonizy"),f(w,"class","svelte-1qonizy"),f(q,"class","svelte-1qonizy"),f(T,"class","svelte-1qonizy"),f(O,"class","svelte-1qonizy"),f(E,"class","svelte-1qonizy"),f(S,"class","svelte-1qonizy"),f(h,"class","left svelte-1qonizy"),f(X,"class","svelte-1qonizy"),I.value=e.newApplication,f(I,"class","svelte-1qonizy"),f(B,"class","input"),v(P,"margin-bottom","1em"),f(V,"class","svelte-1qonizy"),F.value=e.newTag,f(F,"class","svelte-1qonizy"),f(Y,"class","input"),f(M,"class","right svelte-1qonizy"),f(p,"class","svelte-1qonizy"),f(Q,"type","button"),f(Q,"class","svelte-1qonizy"),R=[g(x,"change",(function(){e.change_handler.apply(this,arguments)})),g(q,"change",(function(){e.change_handler_1.apply(this,arguments)})),g(O,"change",(function(){e.change_handler_2.apply(this,arguments)})),g(S,"change",(function(){e.change_handler_3.apply(this,arguments)})),g(I,"change",e.changeApplication),g(I,"keyup",e.keyup_handler),g(F,"change",e.changeTag),g(F,"keyup",e.keyup_handler_1),g(Q,"click",e.submit)]},m(t,e){o(t,n,e),o(t,i,e),o(t,l,e),c(l,p),c(p,h),c(h,m),c(m,y),c(m,_),c(m,x),c(h,$),c(h,b),c(b,w),c(b,k),c(b,q),c(h,z),c(h,C),c(C,T),c(C,A),c(C,O),c(h,D),c(h,j),c(j,E),c(j,N),c(j,S),c(p,L),c(p,M),c(M,P),c(P,X),c(P,H),c(P,B),c(B,I),c(P,J);for(let t=0;t<et.length;t+=1)et[t].m(P,null);c(M,Z),c(M,U),c(U,V),c(U,W),c(U,Y),c(Y,F),c(U,G);for(let t=0;t<at.length;t+=1)at[t].m(U,null);c(l,K),c(l,Q)},p(t,n){if(e=n,t.newApplication&&(I.value=e.newApplication),t.removeApplication||t.data){let n;for(tt=e.data.applications,n=0;n<tt.length;n+=1){const a=ot(e,tt,n);et[n]?et[n].p(t,a):(et[n]=rt(a),et[n].c(),et[n].m(P,null))}for(;n<et.length;n+=1)et[n].d(1);et.length=tt.length}if(t.newTag&&(F.value=e.newTag),t.removeTag||t.data){let n;for(nt=e.data.tags,n=0;n<nt.length;n+=1){const a=ct(e,nt,n);at[n]?at[n].p(t,a):(at[n]=st(a),at[n].c(),at[n].m(U,null))}for(;n<at.length;n+=1)at[n].d(1);at.length=nt.length}},i:t,o:t,d(t){t&&r(n),t&&r(i),t&&r(l),s(et,t),s(at,t),a(R)}}}function pt(t,e,n){let a={tags:[],applications:[]},i="",l="",c=t=>{n("data",a.tags=a.tags.filter(e=>e!==t),a)},o=t=>{n("data",a.applications=a.applications.filter(e=>e!==t),a)},r=(t,e)=>{"Enter"===t.code&&("a"===e?(n("data",a.applications=a.applications||[],a),l&&l.length>0&&-1===a.applications.indexOf(l)&&(a.applications.push(l),n("newApplication",l=""))):"t"===e&&(n("data",a.tags=a.tags||[],a),i&&i.length>0&&-1===a.tags.indexOf(i)&&(a.tags.push(i),n("newTag",i=""))))};return{data:a,newTag:i,newApplication:l,submit:async()=>{a.name&&a.domain&&a.description&&(await fetch("/api/lexicon",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),tt.navigate("lexicon"))},changeTag:t=>{n("newTag",i=t.target.value)},removeTag:c,changeApplication:t=>{n("newApplication",l=t.target.value)},removeApplication:o,onkeyup:r,change_handler:t=>{n("data",a.domain=t.target.value,a)},change_handler_1:t=>{n("data",a.name=t.target.value,a)},change_handler_2:t=>{n("data",a.description=t.target.value,a)},change_handler_3:t=>{n("data",a.dataOwner=t.target.value,a)},keyup_handler:t=>r(t,"a"),click_handler:({application:t})=>o(t),keyup_handler_1:t=>r(t,"t"),click_handler_1:({tag:t})=>c(t)}}class ut extends H{constructor(t){super(),X(this,t,pt,dt,l,{})}}function ht(t,e,n){const a=Object.create(t);return a.tag=e[n],a}function gt(t,e,n){const a=Object.create(t);return a.application=e[n],a}function ft(t){let e,n,a,i,l,s,h=t.application+"";function v(...e){return t.click_handler(t,...e)}return{c(){e=d("div"),n=p(h),a=u(),(i=d("span")).textContent="X",l=u(),f(i,"class","delete svelte-1qonizy"),s=g(i,"click",v)},m(t,r){o(t,e,r),c(e,n),c(e,a),c(e,i),c(e,l)},p(e,a){t=a,e.data&&h!==(h=t.application+"")&&m(n,h)},d(t){t&&r(e),s()}}}function mt(t){let e,n,a,i,l,s,h=t.tag+"";function v(...e){return t.click_handler_1(t,...e)}return{c(){e=d("div"),n=p(h),a=u(),(i=d("span")).textContent="X",l=u(),f(i,"class","delete svelte-1qonizy"),s=g(i,"click",v)},m(t,r){o(t,e,r),c(e,n),c(e,a),c(e,i),c(e,l)},p(e,a){t=a,e.data&&h!==(h=t.tag+"")&&m(n,h)},d(t){t&&r(e),s()}}}function vt(e){let n,i,l,p,h,m,y,_,x,$,b,w,k,q,z,C,T,A,O,D,j,E,N,S,L,M,P,X,H,B,I,J,Z,U,V,W,Y,F,G,K,Q,R,tt,et,nt,at,it=e.data.applications,lt=[];for(let t=0;t<it.length;t+=1)lt[t]=ft(gt(e,it,t));let ct=e.data.tags,ot=[];for(let t=0;t<ct.length;t+=1)ot[t]=mt(ht(e,ct,t));return{c(){(n=d("h1")).textContent="Edit your something",i=u(),l=d("div"),p=d("form"),h=d("div"),m=d("div"),(y=d("label")).textContent="Domain:",_=u(),x=d("input"),b=u(),w=d("div"),(k=d("label")).textContent="Name:",q=u(),z=d("input"),T=u(),A=d("div"),(O=d("label")).textContent="Description:",D=u(),j=d("textarea"),N=u(),S=d("div"),(L=d("label")).textContent="Data owner:",M=u(),P=d("input"),H=u(),B=d("div"),I=d("div"),(J=d("label")).textContent="Applications:",Z=u(),U=d("div"),V=d("input"),W=u();for(let t=0;t<lt.length;t+=1)lt[t].c();Y=u(),F=d("div"),(G=d("label")).textContent="Tags:",K=u(),Q=d("div"),R=d("input"),tt=u();for(let t=0;t<ot.length;t+=1)ot[t].c();et=u(),(nt=d("button")).textContent="Save",f(n,"class","title"),f(y,"class","svelte-1qonizy"),x.value=$=e.data.domain,f(x,"class","svelte-1qonizy"),f(k,"class","svelte-1qonizy"),z.value=C=e.data.name,f(z,"class","svelte-1qonizy"),f(O,"class","svelte-1qonizy"),j.value=E=e.data.description,f(j,"class","svelte-1qonizy"),f(L,"class","svelte-1qonizy"),P.value=X=e.data.dataOwner,f(P,"class","svelte-1qonizy"),f(h,"class","left svelte-1qonizy"),f(J,"class","svelte-1qonizy"),V.value=e.newApplication,f(V,"class","svelte-1qonizy"),f(U,"class","input"),v(I,"margin-bottom","1em"),f(G,"class","svelte-1qonizy"),R.value=e.newTag,f(R,"class","svelte-1qonizy"),f(Q,"class","input"),f(B,"class","right svelte-1qonizy"),f(p,"class","svelte-1qonizy"),f(nt,"type","button"),f(nt,"class","svelte-1qonizy"),at=[g(x,"change",(function(){e.change_handler.apply(this,arguments)})),g(z,"change",(function(){e.change_handler_1.apply(this,arguments)})),g(j,"change",(function(){e.change_handler_2.apply(this,arguments)})),g(P,"change",(function(){e.change_handler_3.apply(this,arguments)})),g(V,"change",e.changeApplication),g(V,"keyup",e.keyup_handler),g(R,"change",e.changeTag),g(R,"keyup",e.keyup_handler_1),g(nt,"click",e.submit)]},m(t,e){o(t,n,e),o(t,i,e),o(t,l,e),c(l,p),c(p,h),c(h,m),c(m,y),c(m,_),c(m,x),c(h,b),c(h,w),c(w,k),c(w,q),c(w,z),c(h,T),c(h,A),c(A,O),c(A,D),c(A,j),c(h,N),c(h,S),c(S,L),c(S,M),c(S,P),c(p,H),c(p,B),c(B,I),c(I,J),c(I,Z),c(I,U),c(U,V),c(I,W);for(let t=0;t<lt.length;t+=1)lt[t].m(I,null);c(B,Y),c(B,F),c(F,G),c(F,K),c(F,Q),c(Q,R),c(F,tt);for(let t=0;t<ot.length;t+=1)ot[t].m(F,null);c(l,et),c(l,nt)},p(t,n){if(e=n,t.data&&$!==($=e.data.domain)&&(x.value=$),t.data&&C!==(C=e.data.name)&&(z.value=C),t.data&&E!==(E=e.data.description)&&(j.value=E),t.data&&X!==(X=e.data.dataOwner)&&(P.value=X),t.newApplication&&(V.value=e.newApplication),t.removeApplication||t.data){let n;for(it=e.data.applications,n=0;n<it.length;n+=1){const a=gt(e,it,n);lt[n]?lt[n].p(t,a):(lt[n]=ft(a),lt[n].c(),lt[n].m(I,null))}for(;n<lt.length;n+=1)lt[n].d(1);lt.length=it.length}if(t.newTag&&(R.value=e.newTag),t.removeTag||t.data){let n;for(ct=e.data.tags,n=0;n<ct.length;n+=1){const a=ht(e,ct,n);ot[n]?ot[n].p(t,a):(ot[n]=mt(a),ot[n].c(),ot[n].m(F,null))}for(;n<ot.length;n+=1)ot[n].d(1);ot.length=ct.length}},i:t,o:t,d(t){t&&r(n),t&&r(i),t&&r(l),s(lt,t),s(ot,t),a(at)}}}function yt(t,e,n){let a={tags:[],applications:[]};tt.$params(async t=>{var e=await fetch("/api/lexicon/"+t),i=await e.json();n("data",a=i)});let i="",l="",c=t=>{n("data",a.tags=a.tags.filter(e=>e!==t),a)},o=t=>{n("data",a.applications=a.applications.filter(e=>e!==t),a)},r=(t,e)=>{"Enter"===t.code&&("a"===e?(n("data",a.applications=a.applications||[],a),l&&l.length>0&&-1===a.applications.indexOf(l)&&(a.applications.push(l),n("newApplication",l=""))):"t"===e&&(n("data",a.tags=a.tags||[],a),i&&i.length>0&&-1===a.tags.indexOf(i)&&(a.tags.push(i),n("newTag",i=""))))};return{data:a,newTag:i,newApplication:l,submit:async()=>{a.name&&a.domain&&a.description&&(await fetch("/api/lexicon",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),tt.navigate("lexicon"))},changeTag:t=>{n("newTag",i=t.target.value)},removeTag:c,changeApplication:t=>{n("newApplication",l=t.target.value)},removeApplication:o,onkeyup:r,change_handler:t=>{n("data",a.domain=t.target.value,a)},change_handler_1:t=>{n("data",a.name=t.target.value,a)},change_handler_2:t=>{n("data",a.description=t.target.value,a)},change_handler_3:t=>{n("data",a.dataOwner=t.target.value,a)},keyup_handler:t=>r(t,"a"),click_handler:({application:t})=>o(t),keyup_handler_1:t=>r(t,"t"),click_handler_1:({tag:t})=>c(t)}}class _t extends H{constructor(t){super(),X(this,t,yt,vt,l,{})}}function xt(t){let e;const n=new K({});return{c(){S(n.$$.fragment)},m(t,a){L(n,t,a),e=!0},i(t){e||(E(n.$$.fragment,t),e=!0)},o(t){N(n.$$.fragment,t),e=!1},d(t){M(n,t)}}}function $t(t){let e;const n=new _t({});return{c(){S(n.$$.fragment)},m(t,a){L(n,t,a),e=!0},i(t){e||(E(n.$$.fragment,t),e=!0)},o(t){N(n.$$.fragment,t),e=!1},d(t){M(n,t)}}}function bt(t){let e;const n=new ut({});return{c(){S(n.$$.fragment)},m(t,a){L(n,t,a),e=!0},i(t){e||(E(n.$$.fragment,t),e=!0)},o(t){N(n.$$.fragment,t),e=!1},d(t){M(n,t)}}}function wt(t){let e;const n=new lt({});return{c(){S(n.$$.fragment)},m(t,a){L(n,t,a),e=!0},i(t){e||(E(n.$$.fragment,t),e=!0)},o(t){N(n.$$.fragment,t),e=!1},d(t){M(n,t)}}}function kt(t){let e;const n=new K({});return{c(){S(n.$$.fragment)},m(t,a){L(n,t,a),e=!0},i(t){e||(E(n.$$.fragment,t),e=!0)},o(t){N(n.$$.fragment,t),e=!1},d(t){M(n,t)}}}function qt(t){let e,n,i,l,s,p,h,m,v;const y=[kt,wt,bt,$t,xt],_=[];function x(t,e){return"index"===e.route?0:"lexicon"===e.route?1:"add-lexicon"===e.route?2:"edit-lexicon"===e.route?3:4}return p=x(0,t),h=_[p]=y[p](t),{c(){e=d("main"),(n=d("span")).textContent="Home",i=u(),(l=d("span")).textContent="Lexicon",s=u(),h.c(),f(n,"class","nav-button"),f(l,"class","nav-button"),f(e,"class","svelte-1kds1eb"),v=[g(n,"click",t.click_handler),g(l,"click",t.click_handler_1)]},m(t,a){o(t,e,a),c(e,n),c(e,i),c(e,l),c(e,s),_[p].m(e,null),m=!0},p(t,n){let a=p;(p=x(0,n))!==a&&(D(),N(_[a],1,1,()=>{_[a]=null}),j(),(h=_[p])||(h=_[p]=y[p](n)).c(),E(h,1),h.m(e,null))},i(t){m||(E(h),m=!0)},o(t){N(h),m=!1},d(t){t&&r(e),_[p].d(),a(v)}}}function zt(t,e,n){let a;tt.subscribe(t=>{n("route",a=t)});return{route:a,click_handler:()=>tt.navigate("index"),click_handler_1:()=>tt.navigate("lexicon")}}return new class extends H{constructor(t){super(),X(this,t,zt,qt,l,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
