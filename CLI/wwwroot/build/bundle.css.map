{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../../web/src/App.svelte",
    "../../../web/src/Lexicon.svelte",
    "../../../web/src/Editor.svelte",
    "../../../web/src/LexiconAdmin.svelte",
    "../../../web/src/Preview.svelte",
    "../../../web/src/SearchResult.svelte",
    "../../../web/src/FileTree.svelte",
    "../../../web/src/Controls/Overlay.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import Home from \"./Home.svelte\";\n  import Lexicon from \"./Lexicon.svelte\";\n  import LexiconAdd from \"./LexiconAdd.svelte\";\n  import LexiconEdit from \"./LexiconEdit.svelte\";\n  import Editor from \"./Editor.svelte\";\n  import LexiconAdmin from \"./LexiconAdmin.svelte\";\n  import Preview from \"./Preview.svelte\";\n  import navigator from \"./navigator.js\";\n\n  let route;\n\n  const unsubscribe = navigator.subscribe(value => {\n    route = value;\n  });\n</script>\n\n<style>\n  main {\n    text-align: center;\n    padding: 1em;\n    max-width: 240px;\n    margin: 0 auto;\n  }\n  @media (min-width: 640px) {\n    main {\n      max-width: none;\n    }\n  }\n</style>\n\n<main>\n\n  <span class=\"nav-button\" on:click={() => navigator.navigate('index')}>\n    Home\n  </span>\n  <span class=\"nav-button\" on:click={() => navigator.navigate('lexicon')}>\n    Lexicon\n  </span>\n  {#if navigator.module}\n    <span class=\"nav-button\" on:click={() => navigator.navigate('editor')}>\n      Editor\n    </span>\n    <span class=\"nav-button\" on:click={() => navigator.navigate('preview')}>\n      Preview\n    </span>\n  {/if}\n</main>\n\n{#if route === 'index'}\n  <Home />\n{:else if route === 'lexicon'}\n  <Lexicon />\n{:else if route === 'add-lexicon'}\n  <LexiconAdd />\n{:else if route === 'edit-lexicon'}\n  <LexiconEdit />\n{:else if route === 'lexicon-admin'}\n  <LexiconAdmin />\n{:else if route === 'preview'}\n  <Preview />\n{:else if route === 'editor'}\n  <Editor />\n{:else}\n  <Home />\n{/if}\n",
    "<script>\n  import navigator from \"./navigator.js\";\n  let data = [];\n  let search = \"\";\n  let findData = async _search => {\n    if (!_search) return;\n    search = _search;\n    var fetchResult = await fetch(\"/api/lexicon?query=\" + search);\n    var result = await fetchResult.json();\n    data = result || [];\n  };\n\n  let deleteItem = async entry => {\n    // TODO: add logic to detect admin user.\n    alert(\"Only administrators are allowed to delete lexicon items.\");\n    if (true) return;\n\n    var result = await fetch(\"/api/lexicon\", {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(entry)\n    });\n    findData(search);\n  };\n\n  let onkeyup = query => {\n    findData(query);\n  };\n\n  findData(\"all:\");\n</script>\n\n<style>\n  tr:hover {\n    cursor: pointer;\n  }\n</style>\n\n<div class=\"content--center\">\n  <h1 class=\"title\">Search your lexicon!</h1>\n  <div>\n    <span\n      class=\"nav-button\"\n      on:click={() => {\n        navigator.navigate('add-lexicon');\n      }}>\n      Create\n    </span>\n    <h2>Search your lexicon:</h2>\n    <input\n      type=\"text\"\n      on:keyup={e => e.code === 'Enter' && onkeyup(e.target.value)}\n      on:change={e => findData(e.target.value)} />\n  </div>\n</div>\n<table>\n  <thead>\n    <th>Domain</th>\n    <th>Name</th>\n    <th>Description</th>\n  </thead>\n  <tbody>\n    {#each data as d}\n      <tr on:click={() => navigator.navigate('edit-lexicon', d.id)}>\n        <td>{d.domain}</td>\n        <td>{d.name}</td>\n        <td>{d.description}</td>\n      </tr>\n    {/each}\n  </tbody>\n</table>\n",
    "<script>\n  import { onMount, onDestroy } from \"svelte\";\n  import navigator from \"./navigator.js\";\n\n  let errors = [];\n  let flask;\n\n  let getcode = async () => {\n    var codeRequest = await fetch(\"/api/module/\" + navigator.module);\n    var code = await codeRequest.text();\n    flask.updateCode(code);\n    setTimeout(getErrors, 0);\n  };\n\n  let saveCode = async () => {\n    var code = flask.getCode();\n    var codeRequest = await fetch(\"/api/module/\" + navigator.module, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"text/plain\",\n        \"Content-Length\": code.length.toString()\n      },\n      body: code\n    });\n    setTimeout(getErrors, 1000);\n  };\n\n  let getErrors = async () => {\n    var errorsRequest = await fetch(\n      \"/api/module/\" + navigator.module + \"/errors\"\n    );\n    errors = await errorsRequest.json();\n    console.log(errors);\n  };\n\n  function mouseTrap(e) {\n    if (e.key === \"s\" && (e.ctrlKey === true || e.metaKey == true)) {\n      saveCode();\n      e.preventDefault();\n      return false;\n    }\n  }\n\n  onMount(() => {\n    flask = new CodeFlask(\"#editor\", {\n      language: \"carlang\",\n      tabSize: 4,\n      lineNumbers: true\n    });\n    getcode();\n\n    window.addEventListener(\"keydown\", mouseTrap, true);\n  });\n  onDestroy(() => {\n    window.removeEventListener(\"keydown\", mouseTrap, true);\n  });\n</script>\n\n<style>\n  .errors {\n    position: fixed;\n    right: 1rem;\n    top: 6rem;\n  }\n  .error {\n    width: 300px;\n  }\n  .error pre {\n    overflow-wrap: break-word;\n  }\n</style>\n\n<div class=\"content--center\">\n  <span class=\"nav-button\" on:click={saveCode}>Save</span>\n</div>\n<div class=\"editor-container\">\n  <div id=\"editor\" />\n</div>\n\n{#if errors && errors.length > 0}\n  <div class=\"errors\">\n    {#each errors as error}\n      <div class=\"error\">\n        <div class=\"title\">{error.title}</div>\n        <pre>{error.message}</pre>\n      </div>\n    {/each}\n  </div>\n{/if}\n",
    "<script>\n  //   import { onMount } from \"svelte\";\n\n  //   onMount(() => {\n  //     flask = new CodeFlask(\"#domain-container\", { language: \"js\" });\n  //     flask = new CodeFlask(\"#owner-container\", { language: \"js\" });\n  //   });\n</script>\n\n<style>\n  textarea {\n    width: 750px;\n    min-height: 250px;\n  }\n</style>\n\n<h2>Domains</h2>\n<p>Please give the domains you would like to restrict your lexicon to.</p>\n<textarea />\n\n<h2>Owners</h2>\n<p>Please give the owners you would like to restrict the lexicon to.</p>\n<textarea />\n",
    "<script>\n  import navigator from \"./navigator.js\";\n  let route = `/${navigator.module}/index.html`;\n</script>\n\n<style>\n  .preview {\n    height: calc(100% - 60px);\n  }\n  iframe {\n    width: 100%;\n    height: 100%;\n    border: none;\n  }\n</style>\n\n<div class=\"preview\">\n  <iframe title=\"module_preview\" src={route} />\n</div>\n",
    "<script>\n  export let descriptor;\n\n  let selectNode = async descriptor => {\n    let url = `/api/svg?module=${descriptor.module}&name=${descriptor.name}&type=g`;\n    let _fetchResult = await fetch(url);\n    let result = await _fetchResult.text();\n\n    var element = document.getElementById(id);\n    mermaid.render(\n      \"inner-\" + id,\n      result,\n      (svg, bind) => {\n        {\n          element.innerHTML = svg;\n        }\n      },\n      element\n    );\n  };\n  let id =\n    \"mermaid-\" +\n    Math.random()\n      .toString(36)\n      .replace(/[^a-z]+/g, \"\")\n      .substr(2, 10) +\n    \"-\" +\n    Date.now();\n</script>\n\n<style>\n  .descriptor {\n    border: 1px solid lightgray;\n    font-size: 14px;\n    padding: 1;\n    margin: 0;\n    width: 450px;\n    margin-bottom: 1rem;\n    margin-left: 50%;\n    transform: translateX(-50%);\n  }\n  .descriptor:hover {\n    cursor: pointer;\n  }\n  .descriptor h2 {\n    background: #3083db;\n    color: white;\n    padding: 0.5em;\n    font-size: 1em;\n    margin: 0;\n    position: relative;\n  }\n  .descriptor .description {\n    color: gray;\n    padding: 0 1rem;\n  }\n  .pill {\n    background: orange;\n    border: 1 px solid rgb(172, 114, 6);\n    color: white;\n    border-radius: 50%;\n    font-size: 10px;\n    text-transform: lowercase;\n    padding: 0.5em 1em 0.6em 1em;\n    position: absolute;\n    left: 10px;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n  .pill.type {\n    background: purple;\n  }\n  .pill.field {\n    background: darkgreen;\n  }\n</style>\n\n<div class=\"descriptor\" on:click={() => selectNode(descriptor)}>\n  <h2>\n    <span class=\"pill {descriptor.descriptorType.toLowerCase()}\">\n      {descriptor.descriptorType}\n    </span>\n    {descriptor.module} - {descriptor.parent ? descriptor.parent + '.' : ''}{descriptor.name}\n  </h2>\n  <p class=\"description\">{descriptor.description || 'No Description'}</p>\n  <a alt={descriptor.module} href={`?path=preview&module=${descriptor.module}`}>\n    Module: {descriptor.module}\n  </a>\n  {#if descriptor.descriptorType === 'Type'}\n    <br />\n    <a\n      alt={descriptor.name}\n      href={`/api/data/${descriptor.module}/${descriptor.name}`}>\n      Show me the data!\n    </a>\n  {/if}\n\n  <div {id} />\n</div>\n",
    "<script>\n  import Overlay from \"./Controls/Overlay.svelte\";\n  export let showOverlay = false;\n  let tree = {\n    root: {\n      files: [\n        {\n          name: \"School\",\n          files: [{ name: \"Service\" }]\n        }\n      ]\n    }\n  };\n</script>\n\n<style>\n  ul {\n    list-style: none;\n    text-align: left;\n  }\n</style>\n\n<ul>\n  {#each tree.root.files as file}\n    <li\n      on:click={() => {\n        showOverlay = !showOverlay;\n      }}>\n      {file.name}\n      <ul>\n        {#each file.files as nested}\n          <li>{nested.name}</li>\n        {/each}\n      </ul>\n    </li>\n  {/each}\n</ul>\n<Overlay show={showOverlay} />\n",
    "<script>\n  import { onMount } from \"svelte\";\n  export let show = false;\n\n  let keyup = e => {\n    if (e.code == \"Enter\" || e.code == \"Escape\") {\n      show = false;\n    }\n  };\n\n  onMount(() => {\n    focus();\n  });\n\n  let focus = () => {\n    document.getElementById(\"command-input\").focus();\n  };\n</script>\n\n<style>\n  .overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    height: 100%;\n    width: 100%;\n    background: rgba(0, 0, 0, 0.4);\n    visibility: hidden;\n  }\n  .overlay.show {\n    visibility: visible;\n  }\n  .overlay .window {\n    background: #313338;\n    border: 1px solid 616265;\n    border-radius: 5px;\n    position: absolute;\n    top: 10%;\n    width: 300px;\n    left: 50%;\n    transform: translateX(-50%);\n    font-size: 2em;\n    color: white;\n  }\n</style>\n\n<div class=\"overlay {show ? 'show' : 'hide'}\">\n  <div class=\"window\">\n    <input id=\"command-input\" on:keyup={e => keyup(e)} on:blur={focus} />\n  </div>\n</div>\n"
  ],
  "names": [],
  "mappings": "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"
}